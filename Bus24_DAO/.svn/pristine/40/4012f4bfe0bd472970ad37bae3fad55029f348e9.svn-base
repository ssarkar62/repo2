package com.bus24.dao.util;

import org.springframework.jdbc.core.PreparedStatementCreator;

public class SQLConstants {
	public static final String SQL_INSERT_OTP = "insert into otplog(otp,generated_time,user_id) values(?,?,?)";
	public static final String SQL_GET_PASSWORD = "select password from user where user_name=?";
	public static final String SQL_GET_USER_DETAILS = "select user_id,user_role,mobile,status from user where user_name=?";
	public static final String SQL_SAVE_TOKEN = "insert into user_authentication(token,user_id,status) values(?,?,?)";

	/**
	 * this query is used to save the amenities into Amenities table
	 */
	public static final String SQL_INSERT_AMENITY = "insert into amenity(amenity_id,amenity_name) values(?,?)";
	public static final String SQL_UPDATE_AMENITY = "update amenity set amenity_name=? where amenity_id=?";

	public static final String SQL_SELECT_ALL_AMENITY = "select amenity_id,amenity_name from amenity";
	public static final String SQL_SELECT_AMENITY_BY_BUSID = "select a.amenity_id,a.amenity_name from amenities a join bus_amenities b on a.amenity_id=b.amenity_id where bus_id=?";

	/**
	 * this select the bus information to for super-admin
	 */
	public static final String SQL_SELECT_BUS_FOR_ADMIN_BY_TRAVELID = "select bus_id,travel_id,reg_no,status,bus_type_name,bus_model,layout_model,no_of_seats,layout_type,layout_desc from bus join bus_types on bus.bus_type_id=bus_types.bus_type_id where travel_id=?";

	public static final String SQL_GET_SHOW_MYPROFILE = "select user_name,user_role,mobile,first_name,last_name,address,zipcode from user where user_name=?";
	public static final String SQL_GET_UPDATE_MYPROFILE = "update user set first_name=?,last_name=?,address=?,zipcode =? where user_id=?";

	public static final String SQL_IS_AUTHENTICATED = "select count(user_id) from user_authentication where user_id=? and token=? and status=?";

	/**
	 * this query select get all travel from "travel" table
	 */
	public static final String SQL_SELECT_ALL_TRAVEL = "select travel_id,travel_name,travel_reg_num,website,city,state,zipcode,phonenumber1,phonenumber2,addressline1,addressline2 from travels order by travel_name";
	/**
	 * this query is used to search for travel from Travels table
	 * 
	 * @author Eshwar,Abdul
	 */
	public static final String SEARCH_TRAVELS_DETAILS = "SELECT T.TRAVEL_ID,T.TRAVEL_NAME,T.TRAVEL_REG_NUM,T.WEBSITE,T.CITY,T.STATE,T.ZIPCODE,T.STATUS,"
			+ "T.PHONENUMBER1,T.PHONENUMBER2,T.ADDRESSLINE1 ,T.ADDRESSLINE2,B.BANK_ACC_ID,B.BANK_ACC_NO,B.IFSC_CODE,B.BANK_NAME,"
			+ "B.BRANCH_NAME,B.ACC_HOLDER_NAME FROM TRAVELS AS T  INNER JOIN BANKDETAILS  B ON  T.BANK_ACC_ID=B.BANK_ACC_ID "
			+ "WHERE (T.TRAVEL_NAME IS NOT NULL AND T.TRAVEL_NAME LIKE ?) OR (T.CITY IS NOT NULL AND CITY LIKE ?) ORDER BY TRAVEL_NAME";

	/**
	 * this query is used to Booking tickts
	 * 
	 * @author 9752696735
	 */
	public static final String SQL_BOOKING_RETRIEVE_BOARDING_DROPPING = "select boarding_points,dropping_points,price from routes where route_id=?";

	/**
	 * this query is used to Search Agent
	 * 
	 * @author Damodar,sekhar
	 */
	public static final String SEARCH_AGENT_SQL = "select a.agent_id,a.agency_name,a.agent_reg_no,a.phoneNumber1,a.phoneNumber2,a.email,a.addressLine1,a.addressLine2,a.city,a.state,a.idcard,a.status ,b.bank_acc_no,b.acc_holder_name,b.ifsc_code,b.bank_name,b.branch_name from agents a,bankdetails b,user u where a.user_id=u.user_id and a.bank_acc_id=b.bank_acc_id and agency_name=?";

	/**
	 * this query is used to select user of specific user
	 */
	public static final String SELECT_USER_SQL = "select mobile from user where user_id=?";

	public static final String EDIT_AGENT_SQL = "update agents set agency_name=?,agent_reg_no=?,phoneNumber1=?,phoneNumber2=?,email=?,addressLine1=?,addressLine2=?,city=?,state=?,idcard=?,status=?,bank_acc_no=? where agent_id=?";
	public static final String EDIT_AGENT_BANK_SQL = "update bankdetails set bank_acc_no=?,acc_holder_name=?,ifsc_code=?,bank_name=?,branch_name=? where bank_acc_id=?";

	/**
	 * This query is used to search buses for passenger
	 * 
	 * @author Mulayam
	 */

	public static final String SQL_SELECT_BUS_FOR_PASSENGER = "SELECT b.bus_id,bt.no_of_seats,"
			+ "bk.no_of_seats AS no_of_booked_seats,(bt.no_of_seats-bk.no_of_seats)AS no_of_available_seats,"
			+ "rt.route_id,rt.source,rt.destination,rt.departure_time,rt.arrival_time,"
			+ "rt.boarding_points,rt.dropping_points,rt.distance,rt.price,rt.via,"
			+ "bt.bus_type_name,bt.bus_model,bt.layout_model,bt.layout_desc FROM routes rt "
			+ "LEFT JOIN bus b ON rt.bus_id=b.bus_id " + "LEFT JOIN bus_types bt ON b.bus_type_id=bt.bus_type_id"
			+ "LEFT JOIN" + "(SELECT sum(bookings.number_of_passengers) AS no_of_seats,"
			+ "bookings.travel_id AS travel_id  FROM booking "
			+ "GROUP BY bookings.travel_id) bk ON rt.travel_id=bk.travel_id "
			+ " where rt.source=?  and rt.destination=?";
	 public static final String SQL_UPDATE_USER_STATUS="update user set status=? where user_id=?";
	 
}
